{"ast":null,"code":"var _jsxFileName = \"E:\\\\TSP_project2\\\\teacher\\\\src\\\\components\\\\Homepage\\\\Homepage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './Homepage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Homepage() {\n  _s();\n  const [message, setMessage] = useState('');\n  const [fee, setFee] = useState('');\n  const [previousMessage, setPreviousMessage] = useState('');\n  const [name, setname] = useState('');\n  const [date, setdate] = useState('');\n  const [duedate, setduedate] = useState('');\n  useEffect(() => {\n    const classNumber = localStorage.getItem('classNumber');\n    const RollNo = localStorage.getItem('user');\n    const fetchLastMessage = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/message_data?ClassNumber=${classNumber}`);\n        const data = await response.json();\n        if (data && data.length > 0) {\n          setMessage(data[data.length - 1].Message);\n          if (data.length > 1) {\n            setPreviousMessage(data[data.length - 1].Message);\n            setdate(data[data.length - 1].date);\n          }\n        } else {\n          setMessage('No messages found.');\n        }\n      } catch (error) {\n        console.error('Error fetching the last message:', error);\n        setMessage('Error fetching the last message.');\n      }\n    };\n    const fetchname = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/studentdata?RollNo=${RollNo}`);\n        const data = await response.json();\n        setname(data[0].name);\n      } catch (error) {\n        console.error('Error fetching student data:', error);\n      }\n    };\n    const fetchFee = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/feedata?ClassNumber=${classNumber}`);\n        const data = await response.json();\n        if (data && data.length > 0) {\n          setFee(data[data.length - 1].Fee);\n          setduedate(data[data.length - 1].Duedate);\n        } else {\n          setFee('No fee found.');\n        }\n      } catch (error) {\n        console.error('Error fetching the fee:', error);\n        setFee('Error fetching the fee.');\n      }\n    };\n    fetchLastMessage();\n    fetchFee();\n    fetchname();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-box\",\n      children: [\"Date: \", date, /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Latest Message: -\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), previousMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/previousmessages\",\n          children: \"Previous Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fee-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Fee Notice:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Hello \", name, \",your  fees for class \", localStorage.getItem('classNumber'), \" is Amount: INR \", fee, \". Please pay it by due date \", duedate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(Homepage, \"AVeuUCVio+6cmoHUOxsbLw/7sgo=\");\n_c = Homepage;\nexport default Homepage;\nvar _c;\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Homepage","_s","message","setMessage","fee","setFee","previousMessage","setPreviousMessage","name","setname","date","setdate","duedate","setduedate","classNumber","localStorage","getItem","RollNo","fetchLastMessage","response","fetch","data","json","length","Message","error","console","fetchname","fetchFee","Fee","Duedate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["E:/TSP_project2/teacher/src/components/Homepage/Homepage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Homepage.css';\r\n\r\nfunction Homepage() {\r\n  const [message, setMessage] = useState('');\r\n  const [fee, setFee] = useState('');\r\n  const [previousMessage, setPreviousMessage] = useState('');\r\n  const [name,setname]=useState('');\r\n  const [date,setdate]=useState('');\r\n  const [duedate,setduedate]=useState('');\r\n\r\n  useEffect(() => {\r\n    const classNumber = localStorage.getItem('classNumber');\r\n    const RollNo=localStorage.getItem('user');\r\n\r\n    const fetchLastMessage = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/message_data?ClassNumber=${classNumber}`);\r\n        const data = await response.json();\r\n        \r\n        if (data && data.length > 0) {\r\n          setMessage(data[data.length - 1].Message);\r\n          if (data.length > 1) {\r\n            setPreviousMessage(data[data.length - 1].Message);\r\n            setdate(data[data.length - 1].date);\r\n          }\r\n        } else {\r\n          setMessage('No messages found.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching the last message:', error);\r\n        setMessage('Error fetching the last message.');\r\n      }\r\n    };\r\n    const fetchname=async()=>{\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/studentdata?RollNo=${RollNo}`);\r\n        const data = await response.json();\r\n        setname(data[0].name);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching student data:', error);\r\n      }\r\n    }\r\n    const fetchFee = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/feedata?ClassNumber=${classNumber}`);\r\n        const data = await response.json();\r\n        \r\n        if (data && data.length > 0) {\r\n          setFee(data[data.length-1].Fee);\r\n          setduedate(data[data.length-1].Duedate)\r\n        } else {\r\n          setFee('No fee found.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching the fee:', error);\r\n        setFee('Error fetching the fee.');\r\n      }\r\n    };\r\n   \r\n\r\n    fetchLastMessage();\r\n    fetchFee();\r\n    fetchname();\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"message-box\">\r\n     Date: {date}\r\n        <p>Latest Message: -</p>\r\n        <p>{message}</p>\r\n        {previousMessage && (\r\n          <p>\r\n            <a href=\"/previousmessages\" >\r\n              Previous Message\r\n            </a>\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div className=\"fee-box\">\r\n        <p>Fee Notice:</p>\r\n        <p>Hello {name},your  fees for class {localStorage.getItem('classNumber')} is Amount: INR {fee}. Please pay it by due date {duedate}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Homepage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}