{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shreyansh\\\\Desktop\\\\TSP\\\\teacher\\\\src\\\\components\\\\Homepage\\\\Homepage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './Homepage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Homepage() {\n  _s();\n  const [message, setMessage] = useState('');\n  const [fee, setFee] = useState('');\n  const [previousMessage, setPreviousMessage] = useState('');\n  const [name, setname] = useState('');\n  const [date, setdate] = useState('');\n  useEffect(() => {\n    const classNumber = localStorage.getItem('classNumber');\n    const RollNo = localStorage.getItem('user');\n    const fetchLastMessage = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/message_data?ClassNumber=${classNumber}`);\n        const data = await response.json();\n        if (data && data.length > 0) {\n          setMessage(data[data.length - 1].Message);\n          if (data.length > 1) {\n            setPreviousMessage(data[data.length - 1].Message);\n            setdate(data[data.length - 1].date);\n          }\n        } else {\n          setMessage('No messages found.');\n        }\n      } catch (error) {\n        console.error('Error fetching the last message:', error);\n        setMessage('Error fetching the last message.');\n      }\n    };\n    const fetchname = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/studentdata?RollNo=${RollNo}`);\n        const data = await response.json();\n        setname(data[0].name);\n      } catch (error) {\n        console.error('Error fetching student data:', error);\n      }\n    };\n    const fetchFee = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/feedata?ClassNumber=${classNumber}`);\n        const data = await response.json();\n        if (data && data.length > 0) {\n          setFee(data[0].Fee);\n        } else {\n          setFee('No fee found.');\n        }\n      } catch (error) {\n        console.error('Error fetching the fee:', error);\n        setFee('Error fetching the fee.');\n      }\n    };\n    fetchLastMessage();\n    fetchFee();\n    fetchname();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Latest Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), previousMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/previousmessages\",\n          children: \"Previous Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fee-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Fee Notice:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Hello \", name, \",your  fees for class \", localStorage.getItem('classNumber'), \" is Amount: INR \", fee, \". Please pay it by due date.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Homepage, \"zSUdccATXSMWpLcPSrCgQIZ1e9A=\");\n_c = Homepage;\nexport default Homepage;\nvar _c;\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Homepage","_s","message","setMessage","fee","setFee","previousMessage","setPreviousMessage","name","setname","date","setdate","classNumber","localStorage","getItem","RollNo","fetchLastMessage","response","fetch","data","json","length","Message","error","console","fetchname","fetchFee","Fee","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["C:/Users/Shreyansh/Desktop/TSP/teacher/src/components/Homepage/Homepage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Homepage.css';\r\n\r\nfunction Homepage() {\r\n  const [message, setMessage] = useState('');\r\n  const [fee, setFee] = useState('');\r\n  const [previousMessage, setPreviousMessage] = useState('');\r\n  const [name,setname]=useState('');\r\n  const [date,setdate]=useState('');\r\n\r\n  useEffect(() => {\r\n    const classNumber = localStorage.getItem('classNumber');\r\n    const RollNo=localStorage.getItem('user');\r\n\r\n    const fetchLastMessage = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/message_data?ClassNumber=${classNumber}`);\r\n        const data = await response.json();\r\n        \r\n        if (data && data.length > 0) {\r\n          setMessage(data[data.length - 1].Message);\r\n          if (data.length > 1) {\r\n            setPreviousMessage(data[data.length - 1].Message);\r\n            setdate(data[data.length - 1].date);\r\n          }\r\n        } else {\r\n          setMessage('No messages found.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching the last message:', error);\r\n        setMessage('Error fetching the last message.');\r\n      }\r\n    };\r\n    const fetchname=async()=>{\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/studentdata?RollNo=${RollNo}`);\r\n        const data = await response.json();\r\n        setname(data[0].name);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching student data:', error);\r\n      }\r\n    }\r\n    const fetchFee = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/feedata?ClassNumber=${classNumber}`);\r\n        const data = await response.json();\r\n        \r\n        if (data && data.length > 0) {\r\n          setFee(data[0].Fee);\r\n        } else {\r\n          setFee('No fee found.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching the fee:', error);\r\n        setFee('Error fetching the fee.');\r\n      }\r\n    };\r\n   \r\n\r\n    fetchLastMessage();\r\n    fetchFee();\r\n    fetchname();\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"message-box\">\r\n        <p>Latest Message</p>\r\n        <p>{message}</p>\r\n        {previousMessage && (\r\n          <p>\r\n            <a href=\"/previousmessages\" >\r\n              Previous Message\r\n            </a>\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div className=\"fee-box\">\r\n        <p>Fee Notice:</p>\r\n        <p>Hello {name},your  fees for class {localStorage.getItem('classNumber')} is Amount: INR {fee}. Please pay it by due date.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Homepage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}